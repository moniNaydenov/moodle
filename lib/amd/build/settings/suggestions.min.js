define ("core/settings/suggestions",["exports","jquery","core/utils","core/key_codes"],function(a,b,d,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var g=[],h=null,i=document.querySelector(c.searchBox),j=null,k=console,c={body:"body",currentResult:"li.bg-secondary",firstResult:"li:first-child",lastResult:"li:last-child",resultBox:"ul[data-searchResults]",searchBox:"#id_query"},e={selectedResult:"bg-secondary"};a.init=function init(){k.log(i);i.outerHTML+="<ul data-searchResults style=\"position: absolute; z-index: 999999; list-style: none;\" class=\"bg-white border border-top-0 border-warning pl-0\"></ul>";j=document.querySelector(c.resultBox);n();i.addEventListener("input",(0,d.debounce)(function(a){k.log(a);k.log("test")},300));k.log(m);k.log(l);document.querySelector(c.body).addEventListener("click",function(a){var b=a.target,d=a.composedPath().indexOf(c.resultBox);k.log(b);k.log(d)})};var l=function(a){k.log(a);if(0===g.length){return}var b=j.querySelector(c.currentResult),d=null;if(a.keyCode===f.arrowDown){a.preventDefault();if(null===b){d=j.querySelector(c.firstResult)}else{d=b.nextElementSibling}}else if(a.keyCode===f.arrowUp){a.preventDefault();if(null===b){d=j.querySelector(c.lastResult)}else{d=b.previousElementSibling}}else if(a.keyCode===f.enter){if(null!==b){a.preventDefault();return}}if(null!==d){d.classList.add(e.selectedResult);if(null!==b){b.classList.remove(e.selectedResult)}}},m=function(a){var c=a.keyCode,d=a.currentTarget.value.toLowerCase();k.log(a);var e=h.find("li.bg-secondary"),i=document.querySelectorAll(".tab-pane ul li a");if(c===f.arrowDown||c===f.arrowUp){a.preventDefault();return}else if(c===f.enter){if(0<e.length){a.preventDefault();window.location=e.find("a").attr("href");return}}j.innerHTML="";g.length=0;if(2<=d.length){window.console.log(d);i.forEach(function(a){var c=a.textContent.toLowerCase();if(-1!==c.indexOf(d)){if(-1===b.default.inArray(c,g)){g.push(c);var e=(0,b.default)("<li class=\"px-3 py-1\"></li>");e.append(a.outerHTML);h.append(e)}}})}if(0===g.length){n()}else{o()}},n=function(){j.style.display="none"},o=function(){j.style.display="block"}});
//# sourceMappingURL=suggestions.min.js.map
