define ("core/settings/suggestions",["exports","jquery","core/key_codes"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);var d=[],f=null,g=null,h=function(){(0,b.default)(document).ready(function(){g=(0,b.default)("#id_query");(0,b.default)(g.parent()).append("<ul id=\"search_live\" style=\"position: absolute; z-index: 999999; list-style: none;\" class=\"bg-white border border-top-0 border-warning pl-0\"></ul>");f=(0,b.default)("#search_live");f.hide();g.keyup(j);g.keydown(i);f.keydown(i);(0,b.default)("body").click(k)})};a.init=h;var i=function(a){if(0===d.length){return}var b=a.keyCode,e=f.find("li.bg-secondary"),g=null;if(b===c.arrowDown){a.preventDefault();if(0===e.length){g=f.find("li:first-child")}else{g=e.next()}}else if(b===c.arrowUp){a.preventDefault();if(0===e.length){g=f.find("li:last-child")}else{g=e.prev()}}else if(b===c.enter){if(0<e.length){a.preventDefault();return}}if(null!==g){g.addClass("bg-secondary");e.removeClass("bg-secondary")}},j=function(a){var e=a.keyCode,g=a.currentTarget.value.toLowerCase(),h=f.find("li.bg-secondary"),i=document.querySelectorAll(".tab-pane ul li a");if(e===c.arrowDown||e===c.arrowUp){a.preventDefault();return}else if(e===c.enter){if(0<h.length){a.preventDefault();window.location=h.find("a").attr("href");return}}f.html("");d.length=0;if(2<=g.length){window.console.log(g);i.forEach(function(a){var c=a.textContent.toLowerCase();if(-1!==c.indexOf(g)){if(-1===b.default.inArray(c,d)){d.push(c);var e=(0,b.default)("<li class=\"px-3 py-1\"></li>");e.append(a.outerHTML);f.append(e)}}})}if(0===d.length){f.hide()}else{f.show()}},k=function(a){var c=(0,b.default)(a.target),d=c.parents("#search_live");if(0===d.length&&!c.is(g)){f.hide()}}});
//# sourceMappingURL=suggestions.min.js.map
